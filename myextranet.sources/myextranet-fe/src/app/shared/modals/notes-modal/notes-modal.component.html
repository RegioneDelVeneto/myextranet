<!--

        MyExtranet, il portale per collaborare con lâ€™ente Regione Veneto.
        Copyright (C) 2022  Regione Veneto

        This program is free software: you can redistribute it and/or modify
        it under the terms of the GNU Affero General Public License as
        published by the Free Software Foundation, either version 3 of the
        License, or (at your option) any later version.

        This program is distributed in the hope that it will be useful,
        but WITHOUT ANY WARRANTY; without even the implied warranty of
        MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
        GNU Affero General Public License for more details.

        You should have received a copy of the GNU Affero General Public License
        along with this program.  If not, see <https://www.gnu.org/licenses/>.

-->
<div class="list-container" *ngIf="!!data">
    <div class="title-container d-flex justify-content-between">
      <div  mat-dialog-title class="h1 title">{{ data.title }}</div>
      <button tabindex="-1"  mat-dialog-close class="ml-4 modal-close-c" attr.aria-label="Chiudi la Modale {{data.title}}">
        <mat-icon role="presentation"> clear</mat-icon>
      </button>
    </div>
    <div mat-dialog-content>
      <p>{{ data.description }}</p>
      <div class="mt-3">
        <mat-form-field class="form-field col-12 mt-2" [appearance]="data.isFo ? 'outline' : 'standard'">
            <mat-label>Note </mat-label>
            <textarea matInput [formControl]="noteControl" rows="5"> </textarea>
            <mat-error *ngIf="noteControl.touched && noteControl.invalid">
              <span *ngIf="noteControl.errors.required"> Campo obbligatorio</span>
            </mat-error>
          </mat-form-field>
      </div>
    </div>
    <div mat-dialog-actions>
      <button 
      attr.aria-label="pulsante salva i dati e chiudi la Modale {{data.title}}"
      mat-flat-button 
      type="button" 
      [color]="data.isFo? 'accent' : 'primary'"
      [disabled]="noteControl?.invalid" 
      (click)="saveData()"> {{ data.flgAnnulla === 0 ? 'SALVA' : 'CONFERMA ANNULLAMENTO'}}</button>
      <button 
      attr.aria-label="pulsante chiudi la Modale {{data.title}}" 
      mat-stroked-button 
      [color]="data.isFo? 'accent' : 'primary'"
      type="button" 
      mat-dialog-close>ANNULLA</button>
    </div>
  </div>
  