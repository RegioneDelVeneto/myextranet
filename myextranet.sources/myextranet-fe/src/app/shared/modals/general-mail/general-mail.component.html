<!--

        MyExtranet, il portale per collaborare con lâ€™ente Regione Veneto.
        Copyright (C) 2022  Regione Veneto

        This program is free software: you can redistribute it and/or modify
        it under the terms of the GNU Affero General Public License as
        published by the Free Software Foundation, either version 3 of the
        License, or (at your option) any later version.

        This program is distributed in the hope that it will be useful,
        but WITHOUT ANY WARRANTY; without even the implied warranty of
        MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
        GNU Affero General Public License for more details.

        You should have received a copy of the GNU Affero General Public License
        along with this program.  If not, see <https://www.gnu.org/licenses/>.

-->
<div class="list-container" *ngIf="!!data">
  <div class="title-container">
    <div  mat-dialog-title class="h1 title">{{ data.title }}</div>
    <button tabindex="-1"  mat-dialog-close class="ml-4 modal-close-c" attr.aria-label="Chiudi la Modale {{data.title}}">
      <mat-icon role="presentation"> clear</mat-icon>
    </button>
  </div>
  <div mat-dialog-content>
    <p>{{ data.description }}</p>
    <div *ngIf="!!filters && filters.length > 0">
      Filtri selezionati :
      <div class="filters-c">
        <span class="filter-i" *ngFor="let f of filters"
          ><i >{{ f }} </i>
        </span>
      </div>
    </div>
    <div class="mt-3">
      <mrf-form #generalModaldata [form]="mailForm"></mrf-form>
    </div>
    <div *ngIf="!!checkBoxForm">
      <form [formGroup]="checkBoxForm">
      <div class="form-field mat-form-field-infix mat-form-field" *ngFor="let controlname of data.checkbox.keys">
        <mat-checkbox [formControlName]="controlname.key"> {{ controlname.label}} </mat-checkbox>
      </div>
    </form>
    </div>
  </div>
  <div mat-dialog-actions>
    <button attr.aria-label="pulsante salva i dati e chiudi la Modale {{data.title}}" mat-flat-button type="button" [disabled]="!geenralModalFormData?.f?.valid && !checkboxValid" (click)="saveData()">Invia</button>
    <button attr.aria-label="pulsante chiudi la Modale {{data.title}} senza salvare i dati" mat-stroked-button type="button" mat-dialog-close>Annulla</button>
  </div>
</div>
