<!--

        MyExtranet, il portale per collaborare con lâ€™ente Regione Veneto.
        Copyright (C) 2022  Regione Veneto

        This program is free software: you can redistribute it and/or modify
        it under the terms of the GNU Affero General Public License as
        published by the Free Software Foundation, either version 3 of the
        License, or (at your option) any later version.

        This program is distributed in the hope that it will be useful,
        but WITHOUT ANY WARRANTY; without even the implied warranty of
        MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
        GNU Affero General Public License for more details.

        You should have received a copy of the GNU Affero General Public License
        along with this program.  If not, see <https://www.gnu.org/licenses/>.

-->
<div class="bg-white msg-cont">
  <div class="data-form p-4">
    <form [formGroup]="docDataForm" (ngSubmit)="docDataForm.invalid? null : save()">
      <div>
        <div class="row d-flex flex-row justify-content-between row w-100">
          <mat-form-field class="form-field col-6 col-md-8 col-lg-9 col-xl-10" [appearance]="appearance">
            <mat-label>File del documento</mat-label>
            <input matInput formControlName="fileLabel" placeholder="carica qui il tuo documento" />
            <mat-error *ngIf="docDataForm.controls.file.touched && docDataForm.controls.file.invalid">
              <span *ngIf="docDataForm.controls.file.errors.required"> Campo obbligatorio</span>
            </mat-error>
          </mat-form-field>
          <div class="mat-form-field-wrapper d-flex flex-column justify-content-around pr-15">
            <app-file-upload
              [downloadOn]="true"
              [isReadOnly]="isRO"
              [showPreview]="false"
              [isFo]="true"
              [downloadId]="!!downloadId ? downloadId : null"
              [hideLabel]="true"
              formControlName="file"
            >
            </app-file-upload>
          </div>
        </div>
      </div>
      <div class="row">
        <mat-form-field class="form-field col-12" [appearance]="appearance">
          <mat-label> Descrizione del documento </mat-label>
          <input matInput formControlName="nome" required />
          <mat-error *ngIf="docDataForm.controls.nome.touched && docDataForm.controls.nome.invalid">
            <span *ngIf="docDataForm.controls.nome.errors.required"> Campo obbligatorio</span>
          </mat-error>
        </mat-form-field>
      </div>
      <div class="row p-3">
        <div clas="buttons-c">
          <button class="mr-2" (click)="back()" mat-stroked-button [color]="isFo ? 'accent' : 'primary'" type="button">
            ANNULLA
          </button>
          <button
            [disabled]="docDataForm.invalid"
            
            mat-flat-button
            [color]="isFo ? 'accent' : 'primary'"
            type="submit"
          >
            {{ isEdit ? "MODIFICA" : "AGGIUNGI" }}
          </button>
        </div>
      </div>
    </form>

  </div>
</div>
